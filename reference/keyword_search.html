<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Search a pdf file for keywords — keyword_search • pdfsearch</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Search a pdf file for keywords — keyword_search" />
<meta property="og:description" content="This uses the pdf_text from the pdftools package to perform keyword searches. 
Keyword locations indicating the line of the text as well as the page number 
that the keyword is found are returned." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pdfsearch</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro_to_pdfsearch.html">Getting Started with pdfsearch</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lebebr01/pdfsearch">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Search a pdf file for keywords</h1>
    <small class="dont-index">Source: <a href='https://github.com/lebebr01/pdfsearch/blob/master/R/keyword_search.r'><code>R/keyword_search.r</code></a></small>
    <div class="hidden name"><code>keyword_search.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This uses the pdf_text from the pdftools package to perform keyword searches. 
Keyword locations indicating the line of the text as well as the page number 
that the keyword is found are returned.</p>
    </div>

    <pre class="usage"><span class='fu'>keyword_search</span>(<span class='no'>x</span>, <span class='no'>keyword</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>split_pdf</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>surround_lines</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ignore_case</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>remove_hyphen</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>token_results</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>heading_search</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>heading_args</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>convert_sentence</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remove_equations</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>split_pattern</span> <span class='kw'>=</span> <span class='st'>"\\p{WHITE_SPACE}{3,}"</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Either the text of the pdf read in with the pdftools package or a 
path for the location of the pdf file.</p></td>
    </tr>
    <tr>
      <th>keyword</th>
      <td><p>The keyword(s) to be used to search in the text. Multiple 
keywords can be specified with a character vector.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>An optional path designation for the location of the pdf to be 
converted to text. The pdftools package is used for this conversion.</p></td>
    </tr>
    <tr>
      <th>split_pdf</th>
      <td><p>TRUE/FALSE indicating whether to split the pdf using white 
space. This would be most useful with multicolumn pdf files. 
The split_pdf function attempts to recreate the column layout of the text 
into a single column starting with the left column and proceeding to the 
right.</p></td>
    </tr>
    <tr>
      <th>surround_lines</th>
      <td><p>numeric/FALSE indicating whether the output should 
extract the surrouding lines of text in addition to the matching line. 
Default is FALSE, if not false, include a numeric number that indicates 
the additional number of surrounding lines that will be extracted.</p></td>
    </tr>
    <tr>
      <th>ignore_case</th>
      <td><p>TRUE/FALSE/vector of TRUE/FALSE, indicating whether the 
case of the keyword matters. Default is FALSE meaning that case of the 
keyword is literal. If a vector, must be same length as the keyword 
vector.</p></td>
    </tr>
    <tr>
      <th>remove_hyphen</th>
      <td><p>TRUE/FALSE indicating whether hyphenated words should
be adjusted to combine onto a single line. Default is TRUE.</p></td>
    </tr>
    <tr>
      <th>token_results</th>
      <td><p>TRUE/FALSE indicating whether the results text returned
should be split into tokens. See the tokenizers package and 
<code><a href='convert_tokens.html'>convert_tokens</a></code> for more details. Defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>heading_search</th>
      <td><p>TRUE/FALSE indicating whether to search for headings 
in the pdf.</p></td>
    </tr>
    <tr>
      <th>heading_args</th>
      <td><p>A list of arguments to pass on to the 
<code><a href='heading_search.html'>heading_search</a></code> function. See <code><a href='heading_search.html'>heading_search</a></code> 
 for more details on arguments needed.</p></td>
    </tr>
    <tr>
      <th>convert_sentence</th>
      <td><p>TRUE/FALSE indicating if individual lines of PDF file
should be collapsed into a single large paragraph to perform keyword 
searching. Default is TRUE</p></td>
    </tr>
    <tr>
      <th>remove_equations</th>
      <td><p>TRUE/FALSE indicating if equations should be removed.
Default behavior is to search for the following regex:
"\([0-9]1,\)$", essentially this matches a literal parenthesis,
followed by at least one number followed by another parenthesis at
the end of the text line. This will not detect other patterns or
detect the entire equation if it is a multi-row equation.</p></td>
    </tr>
    <tr>
      <th>split_pattern</th>
      <td><p>Regular expression pattern used to split multicolumn 
PDF files using <code><a href='https://rdrr.io/pkg/stringi/man/stri_split.html'>stringi::stri_split_regex</a></code>. 
Default pattern is "\pWHITE_SPACE3," which can be interpreted as: 
split based on three or more consecutive white space characters.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>token_function to pass to <code><a href='convert_tokens.html'>convert_tokens</a></code> 
function.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble data frame that contains the keyword, location of match, 
  the line of text match, and optionally the tokens associated with the line
  of text match.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>file</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>'pdf'</span>, <span class='st'>'1501.00450.pdf'</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>'pdfsearch'</span>)

<span class='fu'>keyword_search</span>(<span class='no'>file</span>, <span class='kw'>keyword</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'repeated measures'</span>, <span class='st'>'mixed effects'</span>),
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 9 x 5</span><span>
#&gt;   keyword           page_num line_num line_text token_text
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>                </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span>    
#&gt; </span><span style='color: #555555;'>1</span><span> repeated measures        1        9 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>2</span><span> repeated measures        1       30 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>3</span><span> repeated measures        2       57 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>4</span><span> repeated measures        2       59 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>5</span><span> repeated measures        2       69 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>6</span><span> repeated measures        3      165 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>7</span><span> repeated measures        3      176 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>8</span><span> repeated measures        3      181 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>9</span><span> repeated measures        4      308 </span><span style='color: #555555;'>&lt;chr [1]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [1]&gt;</span><span></div><div class='input'>
<span class='co'># Add surrounding text</span>
<span class='fu'>keyword_search</span>(<span class='no'>file</span>, <span class='kw'>keyword</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'variance'</span>, <span class='st'>'mixed effects'</span>),
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>surround_lines</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 64 x 5</span><span>
#&gt;    keyword  page_num line_num line_text token_text
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span>       </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span>    
#&gt; </span><span style='color: #555555;'> 1</span><span> variance        1        4 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 2</span><span> variance        1       10 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 3</span><span> variance        1       21 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 4</span><span> variance        1       31 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 5</span><span> variance        1       33 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 6</span><span> variance        1       38 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 7</span><span> variance        1       40 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 8</span><span> variance        2       72 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 9</span><span> variance        2       73 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'>10</span><span> variance        2       75 </span><span style='color: #555555;'>&lt;chr [3]&gt;</span><span> </span><span style='color: #555555;'>&lt;list [3]&gt;</span><span>
#&gt; </span><span style='color: #555555;'># … with 54 more rows</span><span></div><div class='input'>
<span class='co'># split pdf</span>
<span class='fu'>keyword_search</span>(<span class='no'>file</span>, <span class='kw'>keyword</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'repeated measures'</span>, <span class='st'>'mixed effects'</span>),
  <span class='kw'>path</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>split_pdf</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>remove_hyphen</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 0 x 5</span><span>
#&gt; </span><span style='color: #555555;'># … with 5 variables: keyword </span><span style='color: #555555;font-style: italic;'>&lt;chr&gt;</span><span style='color: #555555;'>, page_num </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>, line_num </span><span style='color: #555555;font-style: italic;'>&lt;int&gt;</span><span style='color: #555555;'>,
#&gt; #   line_text </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span style='color: #555555;'>, token_text </span><span style='color: #555555;font-style: italic;'>&lt;list&gt;</span><span></div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Brandon LeBeau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


